<div class="grid">
<div class="col-12">
    <div class="card">
        <h5>Consultation Crédits</h5>
        <p-table #dt1 [value]="demandeCredits" dataKey="id" [rows]="8" [loading]="loading" [rowHover]="true" styleClass="p-datatable-gridlines" 
            [paginator]="true"  responsiveLayout="scroll">
            <ng-template pTemplate="caption">
                
            </ng-template>
            <ng-template pTemplate="header">
                <tr>
                    <th style="min-width: 12rem">
                        <div class="flex justify-content-between align-items-center">
                            N°
                        </div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-content-between align-items-center">
                            ID Demande
                        </div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-content-between align-items-center">
                            Nom Client
                        </div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-content-between align-items-center">
                            Type crédit
                        </div>
                    </th>
                    
            
                    <th style="min-width: 10rem">
                        <div class="flex justify-content-between align-items-center">
                            Etat
                        </div>
                    </th>
                    <th style="min-width: 12rem">
                        <div class="flex justify-content-between align-items-center">
                            Date Demande  
                        </div>
                    </th>
                    
                    <th style="min-width: 8rem">
                        <div class="text-center" >
                            Actions
                        </div>
                    </th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-demandeCredit>
                <tr>
                    <td class="clickable-cell" (click)="consulterDemande(demandeCredit.numDemande)">
                        {{demandeCredit.numDemande}}
                    </td>
                    
                    <td>
                        {{demandeCredit.idDemande}}

                    </td>
                    <td>
                        {{demandeCredit.nomClient}}

                    </td>
                    <td>
                        {{ getTypeCreditLabel(demandeCredit.typeCredit) }}
                    </td>
                    <td>
                        {{ getStatusLabel(demandeCredit.etat) }}
                    </td>
                    <td>
                        {{demandeCredit.dateDemande}}
                    </td>
                   
                    <td class="text-center">

                        <button *ngIf="demandeCredit.etat===0 " pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded" style="margin-right: 1rem;" (click)="Verify(demandeCredit)"></button>
                        <button *ngIf="demandeCredit.etat===2" pButton pRipple type="button" icon="pi pi-check" class="p-button-rounded" (click)="Verify(demandeCredit)"></button>

                        <button *ngIf="demandeCredit.etat===0 "pButton pRipple type="button" icon="pi pi-times" class="p-button-rounded p-button-danger" (click)="Denied(demandeCredit)"></button>
                        <button *ngIf="demandeCredit.etat===1" pButton pRipple type="button" icon="pi pi-eye" class="p-button-rounded p-button-secondary" (click)="ViewPDF()"></button>

                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="8">No customers found.</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="loadingbody">
                <tr>
                    <td colspan="8">Loading customers data. Please wait.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>

</div>
</div>